<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--==================== UNICONS ====================-->
        <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
        
        
        <!--==================== CSS ====================-->
        <link rel="stylesheet" href="styles.css">

        <title>Martial Portfolio</title>
    </head>
    <body>
       <!--==================== HEADER ====================-->
       <header class="header" id="header">
        <nav class="nav container">
            <a href="#" class="nav__logo">Martial</a>
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list grid">
                    <li class="nav__item">
                        <a href="index.html" class="nav__link active-link">
                         Home
                        </a>
                    </li>

                    <li class="nav__item">
                        <a href="about.html" class="nav__link">
                            About
                            
                        </a>
                    </li>

                    <li class="nav__item">
                        <a href="Blogs.html" class="nav__link">
                             Blogs
                            
                        </a>
                    </li>

                    <li class="nav__item">
                        <a href="portfolio.html" class="nav__link">
                             my work
                        </a>
                    </li>

                    <li class="nav__item">
                        <a href="contact.html" class="nav__link">
                           Contactme
                        </a>
                    </li>

                    <li class="nav__item nav__login dropdown">
                        <a href="login.html" class="nav__link">Sign in</a>
                        
                    </li>

                    <li class="nav__item dropdown admin">
                       
                    </li>

                   
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
                
            </div>
        </nav>
    </header>


        <!--==================== MAIN ====================-->
        <main class="main">
          <section class="section" id="services">

            <div class="Article__container container grid"> 

                  <a href="adminaddarticle.html" class="article__add">
                    <button>Add an article</button>
                  </a>

                  <div>
                      <div class="article grid">
                        <div class="article__img">
                            <img src="assets/img/GKIsoGc.jpg"  alt="">
                        </div>
                        <p>CodeCraft: Crafting Clean and Efficient Code</p>
                        <div>
                            <a href="admineditarticle.html" >
                                <img class="article__icon" src="assets/img/Rectangle 57.png" alt="">
                            </a>
                            <a href="">
                                <img class="article__icon" src="assets/img/Rectangle 58.png" alt="">
                            </a>
                        </div>
                       
                      </div>
                      
                      <div class="article grid">
                        <div class="article__img">
                            <img src="assets/img/Technology-Landscape.png"  alt="">
                        </div>
                        <p>CodeCraft: Crafting Clean and Efficient Code</p>
                        <div>
                            <a href="admineditarticle.html" >
                                <img class="article__icon" src="assets/img/Rectangle 57.png" alt="">
                            </a>
                            <a href="">
                                <img class="article__icon" src="assets/img/Rectangle 58.png" alt="">
                            </a>
                        </div>
                       
                      </div>
                      <div class="article grid">
                        <div class="article__img">
                            <img src="assets/img/istockphoto-1206800961-1024x1024.jpg"  alt="">
                        </div>
                        <p>CodeCraft: Crafting Clean and Efficient Code</p>
                        <div>
                            <a href="admineditarticle.html" >
                                <img class="article__icon" src="assets/img/Rectangle 57.png" alt="">
                            </a>
                            <a href="">
                                <img class="article__icon" src="assets/img/Rectangle 58.png" alt="">
                            </a>
                        </div>
                       
                      </div>
                  </div>
                  
            
              
            </div>
        </section>
        </main>

        <!--==================== FOOTER ====================-->
        <footer class="footer">
         <div class="footer__bg">
            <div class="footer__container container grid">
                <div>
                    <h1 class="footer__title">Martial</h1>
                    <span class="footer__subtitle">Backend developer</span>
                </div>

                <ul class="footer__links">
                    <li>
                        <a href="#services" class="footer__link">Services</a>
                    </li>

                    <li>
                        <a href="#portfolio" class="footer__link">Portfolio</a>
                    </li>

                    <li>
                        <a href="#contact" class="footer__link">Contactme</a>
                    </li>
                </ul>


                <div class="footer__socials">
                    <a href="" class="footer__social" target="_blank">
                        <i class="uil uil-facebook-f"></i>
                    </a>

                    <a href="" class="footer__social" target="_blank">
                        <i class="uil uil-instagram"></i>
                    </a>

                    <a href="" class="footer__social" target="_blank">
                        <i class="uil uil-twitter-alt"></i>
                    </a>
                </div>
            </div>
            <p class="footer__copy">&#169; Martial. All right reserved</p>
         </div>
        </footer>       
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const hamburger = document.querySelector(".hamburger");
                const navMenu = document.querySelector(".nav__list")
                const loginDiv = document.querySelector('.nav__login');
                const Admin = document.querySelector('.admin');
    
                hamburger.addEventListener("click", () => {
                    hamburger.classList.toggle("active");
                    navMenu.classList.toggle("active");
                });
    
                const updateUserUI = () => {
    const currentUser = JSON.parse(localStorage.getItem('loginUser'));

    if (currentUser && currentUser.username) {
        if (currentUser.isAdmin === true) {
            Admin.innerHTML = `
                <a href="#" class="nav__link">
                    Admin <i class="fas fa-chevron-down"></i>
                </a>
                <ul class="dropdown-content">
                    <li><a href="adminquery.html">Query</a></li>
                    <li><a href="adminarticle.html">Article</a></li>
                </ul>
            `;
        } else {
            Admin.innerHTML = '';
        }
        loginDiv.innerHTML = `
            <a href="#" class="nav__link">
                ${currentUser.username}
            </a>
            <ul class="dropdown-content">
                    <li ><a id="logout" href="#">Logout</a></li>
                </ul>
        `;
    } else {
        loginDiv.innerHTML = `
            <a href="login.html" class="nav__link">
                Sign in
            </a>
        `;
        Admin.innerHTML = ''; 
    }
};


 document.addEventListener('click', (e) => {
        
        if(e.target.id === 'logout'){
            e.preventDefault()
            localStorage.removeItem('loginUser');
            window.location.href = "register.html"
            updateUserUI();
        }
    })
    
               
                updateUserUI();
                const user = JSON.parse(localStorage.getItem('loginUser'));
                  if (!user || (!user.isLoggedIn || !user.isAdmin)) {
                   window.location.href = "index.html";
                   }
            });
        </script>
    </body>
</html>